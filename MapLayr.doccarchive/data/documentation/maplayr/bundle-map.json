{"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map"],"anchor":"Getting-Started","generated":true}],"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/maplayr\/bundle-map"]}],"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","type":"heading","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If connectivity at your venue is unreliable, you can include the latest version of your map inside your application bundle. This also allows you to confidently use the synchronous "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","isActive":true,"type":"reference"},{"type":"text","text":" method to load a map without having to design your application around asynchronous map loading."}]},{"anchor":"Setting-Up-the-Map-Bundle-Directory","level":2,"type":"heading","text":"Setting Up the Map Bundle Directory"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In Xcode, create a folder reference named “MapLayr” in the top-level directory of your application. This folder will contain maps for offline use and is intended to be copied into your app’s bundle as-is."}]},{"anchor":"Using-the-Download-Script","level":2,"type":"heading","text":"Using the Download Script"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"download-map"},{"type":"text","text":" script included with MapLayr helps you manage map bundles. The script accepts these parameters:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"-m"},{"type":"text","text":" or "},{"type":"codeVoice","code":"--map"},{"type":"text","text":": The ID of the map to download"}]}]},{"content":[{"inlineContent":[{"code":"-d","type":"codeVoice"},{"type":"text","text":" or "},{"code":"--dir","type":"codeVoice"},{"type":"text","text":": The target directory for the map bundle (typically your Maps folder)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"-n","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"--name","type":"codeVoice"},{"text":": (Optional) A custom name for the map bundle","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"--skip-if-exists"},{"text":": Skip download if the map already exists","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"--skip-if-debug"},{"type":"text","text":": Skip download if "},{"type":"codeVoice","code":"CONFIGURATION"},{"type":"text","text":" is set to "},{"type":"codeVoice","code":"Debug"}],"type":"paragraph"}]}]},{"anchor":"Automating-Map-Updates","level":2,"type":"heading","text":"Automating Map Updates"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To keep your bundled map up to date, add a build phase in Xcode:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Add a new ","type":"text"},{"inlineContent":[{"text":"Run Script","type":"text"}],"type":"emphasis"},{"text":" phase in your target’s ","type":"text"},{"inlineContent":[{"text":"Build Phases","type":"text"}],"type":"emphasis"}]}]},{"content":[{"inlineContent":[{"text":"Position it before the ","type":"text"},{"inlineContent":[{"type":"text","text":"Copy Bundle Resources"}],"type":"emphasis"},{"text":" phase","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Name it something descriptive like “Update Map”"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uncheck “based on dependency analysis”"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Add the script, replacing the map ID and directory path as needed:"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"shell","code":["\"${BUILD_DIR%Build\/*}SourcePackages\/checkouts\/maps-ios\/download-map\" -m \"YOUR-MAP-ID\" -d \"$PROJECT_DIR\/My App\/MapLayr\" --skip-if-debug"]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For more reliability, consider copying the ","type":"text"},{"code":"download-map","type":"codeVoice"},{"text":" script into your project instead of referencing it from the package directory.","type":"text"}]}],"type":"aside","name":"Note","style":"note"},{"anchor":"Best-Practices","level":2,"type":"heading","text":"Best Practices"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Add your Maps folder to ","type":"text"},{"code":".gitignore","type":"codeVoice"},{"text":" to avoid committing map bundles to source control","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"--skip-if-debug","type":"codeVoice"},{"type":"text","text":" to speed up debug builds"}]}]}]}],"kind":"content"}],"abstract":[{"text":"Have your map available immediately when your app launches for the first time.","type":"text"}],"metadata":{"modules":[{"name":"MapLayr"}],"role":"article","roleHeading":"Article","title":"Bundle Your Map"},"identifier":{"url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","interfaceLanguage":"swift"},"references":{"doc://com.applayr.MapLayr/documentation/MapLayr/Map/managed(id:)-5kxdb":{"role":"symbol","abstract":[{"type":"text","text":"Returns a managed map with the given map ID."}],"type":"topic","url":"\/documentation\/maplayr\/map\/managed(id:)-5kxdb","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","title":"managed(id:)","kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"managed"},{"kind":"text","text":"("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Map","preciseIdentifier":"s:15MapLayrInternal0A0C"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"role":"article","title":"API Key","kind":"article","type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","abstract":[{"type":"text","text":"Obtain an API key and configure your app to use it."}],"url":"\/documentation\/maplayr\/api-key"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"url":"\/documentation\/maplayr\/mapview","kind":"symbol","type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","title":"MapView","abstract":[{"type":"text","text":"A view which displays interactive map content."}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"MapView"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","kind":"article","role":"article","title":"Displaying a Map","abstract":[{"type":"text","text":"Create a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map"},{"type":"text","text":" and assign it to a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView"},{"type":"text","text":"."}],"url":"\/documentation\/maplayr\/display-map"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Map"}],"navigatorTitle":[{"kind":"identifier","text":"Map"}],"url":"\/documentation\/maplayr\/map","title":"Map","role":"symbol","abstract":[{"text":"An updatable map.","type":"text"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"type":"topic","abstract":[{"text":"High performance map view for venue-specific maps.","type":"text"}],"kind":"symbol","role":"collection","url":"\/documentation\/maplayr","title":"MapLayr","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"}}}